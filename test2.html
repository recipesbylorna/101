<!DOCTYPE html>
<html>
   <head>
      <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
   </head>
   <body>
      <script>
         var myJSON;
         function updateRecipe() {
            updateName();
            updateCategory();
            updateMainIng();
            updateYieldAmount();
            updateYieldType();
            updateNotes();
            updateIngredients();
            updateInstructions();
         }   
         function updateName() {
            document.getElementById("name").innerHTML = myJSON.recipes[0].name;
         }
         function updateCategory() {
            document.getElementById("category").innerHTML = myJSON.recipes[0].category;
         }
         function updateMainIng() {
            document.getElementById("mainIng").innerHTML = myJSON.recipes[0].mainIng;
         }
         function updateYieldAmount() {
            document.getElementById("yieldAmount").innerHTML = myJSON.recipes[0].yieldAmount;
         }
         function updateYieldType() {
            document.getElementById("yieldType").innerHTML = myJSON.recipes[0].yieldType;
         }
         function updateNotes() {
            document.getElementById("notes").innerHTML = myJSON.recipes[0].notes;
         }
         function updateIngredients() {
            let x = "";
            let i;
            let quantity;
            let ingredient;
            let preparation;
            for (i = 0; i < myJSON.recipes[0].ingredients.length; i++) {
               quantity = myJSON.recipes[0].ingredients[i].quantity;
               ingredient = myJSON.recipes[0].ingredients[i].ingredient;
               preparation = myJSON.recipes[0].ingredients[i].preparation;
               if (preparation.localCompare("") {
                   x += quantity + " " + ingredient + "<br>";
               }
               else {
                   x += quantity + " " + ingredient + " - " + preparation + "<br>";
               }
            }
            document.getElementById("ingredients").innerHTML = x;
         }
         function updateInstructions() {
            document.getElementById("instructions").innerHTML = myJSON.recipes[0].instructions;
         }
         $(document).ready(function(){
           $.getJSON("/101/OUTPUT.JSON?r="+(new Date).getTime(), function(inputJSON){
             myJSON = inputJSON;
             updateRecipe();
           }).fail(function(){
           console.log("An error has occurred.");
          });
         });
      </script>
      <h1>Title: <span id="name"></span></h1>
      <h3>Category: <span id="category"></span></h3>
      <h3>Main Ingredient: <span id="mainIng"></span></h3>
      <h3>Makes <span id="yieldAmount"></span> <span id="yieldType"></span></h3>
      <h2>Notes: <span id="notes"></span></h2>
      <h2>Ingredients:</h2>
      <h3><span id="ingredients"></span></h3>
      <h2>Instructions:</h2>
      <p><span id="instructions"></span></p>
   </body>
</html>
